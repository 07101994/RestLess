<Project TreatAsLocalProperty="TaskFolder;TaskAssembly">
  <PropertyGroup>
    <CoreCompileDependsOn>
      $(CoreCompileDependsOn);
      GenerateRestClients;
    </CoreCompileDependsOn>
  </PropertyGroup>
  
  <PropertyGroup>
    <TaskFolder Condition="'$(MSBuildRuntimeType)' == 'Core'">netstandard2.0</TaskFolder>
    <TaskFolder Condition="'$(MSBuildRuntimeType)' != 'Core'">net46</TaskFolder>
    <TaskAssembly>$(MSBuildThisFileDirectory)..\tasks\$(TaskFolder)\DoLess.Rest.Tasks.dll</TaskAssembly>
  </PropertyGroup>
  
  <UsingTask TaskName="DoLess.Rest.Tasks.BuildRestClientsTask" AssemblyFile="$(TaskAssembly)" />

</Project>